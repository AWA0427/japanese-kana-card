<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日语五十音训练</title>
    <!-- Google Fonts & Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <!-- MDC CSS (用于基础组件功能) -->
    <link href="https://unpkg.com/material-components-web@14.0.0/dist/material-components-web.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <!-- 顶部应用栏 -->
    <header class="md3-top-app-bar">
        <div class="app-bar-content">
            <span class="app-bar-title">日语五十音训练</span>
            <div class="app-bar-actions">
                <button id="show-all-button" class="md3-icon-button material-symbols-rounded" aria-label="显示列表">view_cozy</button>
                <button id="settings-button" class="md3-icon-button material-symbols-rounded" aria-label="设置">settings</button>
            </div>
        </div>
    </header>

    <div class="main-scaffold">
        
        <!-- 训练视图 -->
        <div id="training-view" class="view">
            <div class="training-layout">
                <!-- 左侧：大卡片 -->
                <div class="kana-card-container">
                    <div id="kana-card" class="md3-card-display">
                        <div class="kana-main" id="kana-display">あ</div>
                        <div class="kana-sub-info" id="kana-type-hint">平假名 · 清音</div>
                    </div>
                </div>

                <!-- 右侧：交互区 -->
                <div class="interaction-container">
                    <div id="feedback-display" class="feedback-text"></div>
                    
                    <form id="input-form">
                        <div class="md3-text-field-container">
                            <input type="text" id="romanji-input" class="md3-text-field-input" placeholder=" " autocomplete="off">
                            <label class="md3-text-field-label">输入罗马音 (Romanji)</label>
                        </div>
                        <button class="md3-button-filled" type="submit">
                            <span class="material-symbols-rounded icon">check</span>
                            提交
                        </button>
                        <button class="md3-button-text" type="button" id="skip-button">
                            跳过
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- 列表视图 -->
        <div id="all-cards-view" class="view hidden">
            <div class="list-header">
                <h2>所有假名预览</h2>
                <button class="md3-button-tonal" id="back-to-training">返回训练</button>
            </div>
            <div id="all-cards-list" class="cards-grid"></div>
        </div>
    </div>

    <!-- 设置弹窗 (MD3 Dialog) -->
    <div id="settings-dialog-overlay" class="md3-dialog-overlay hidden">
        <div class="md3-dialog">
            <div class="dialog-header">
                <span class="material-symbols-rounded">tune</span>
                <h3>训练设置</h3>
            </div>
            
            <div class="dialog-content">
                
                <section class="settings-section">
                    <div class="section-title">假名模式</div>
                    <div class="chip-set" id="form-options">
                        <button class="filter-chip selected" data-value="hiragana">平假名</button>
                        <button class="filter-chip selected" data-value="katakana">片假名</button>
                    </div>
                </section>

                <section class="settings-section">
                    <div class="section-title">假名种类 (自由组合)</div>
                    <div class="chip-set" id="type-options">
                        <button class="filter-chip selected" data-value="seion">清音</button>
                        <button class="filter-chip selected" data-value="dakuon">浊音</button>
                        <button class="filter-chip selected" data-value="handakuon">半浊音</button>
                        <button class="filter-chip selected" data-value="youon">拗音</button>
                        <button class="filter-chip selected" data-value="special">特殊</button>
                    </div>
                </section>

                <section class="settings-section">
                    <div class="section-title">主题风格</div>
                    <div class="theme-controls">
                        <!-- 预设颜色 -->
                        <div class="color-options">
                            <div class="color-dot selected" data-color="#6750A4" style="background: #6750A4;"></div> <!-- M3 Purple -->
                            <div class="color-dot" data-color="#9C27B0" style="background: #9C27B0;"></div>
                            <div class="color-dot" data-color="#E91E63" style="background: #E91E63;"></div>
                            <div class="color-dot" data-color="#F44336" style="background: #F44336;"></div>
                            <div class="color-dot" data-color="#FF9800" style="background: #FF9800;"></div>
                            <div class="color-dot" data-color="#009688" style="background: #009688;"></div>
                            <div class="color-dot" data-color="#2196F3" style="background: #2196F3;"></div>
                            <div class="color-dot" data-color="#3F51B5" style="background: #3F51B5;"></div>
                            <div class="color-dot" data-color="#607D8B" style="background: #607D8B;"></div>
                        </div>
                        <!-- 自定义颜色选择器 -->
                        <div class="custom-color-wrapper">
                            <label for="custom-color-picker">自定义:</label>
                            <input type="color" id="custom-color-picker" value="#6750A4">
                        </div>
                        
                        <div class="switch-row">
                            <label class="md3-switch">
                                <input type="checkbox" id="system-dark-mode">
                                <span class="slider"></span>
                            </label>
                            <span>跟随系统深色模式</span>
                        </div>
                    </div>
                </section>
            </div>

            <div class="dialog-actions">
                <button class="md3-button-text" id="cancel-settings">取消</button>
                <button class="md3-button-filled" id="apply-settings">应用更改</button>
            </div>
        </div>
    </div>

    <!-- 脚本引用 -->
    <script src="https://unpkg.com/material-components-web@14.0.0/dist/material-components-web.min.js"></script>
    <script src="data.js"></script> <!-- 你的 input_file_0.js 重命名为 data.js -->
    <script src="script.js"></script>
</body>
</html>
